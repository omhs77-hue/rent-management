# ADR-001: アーキテクチャ原則

## Context
賃貸管理の省人化・高生産性化を実現するため、初期から運用容易性と開発スピードを重視した基盤が求められる。限られた人員で開発・運用する前提のため、クラウドサービスのマネージド機能を積極的に活用し、コードと設計を一体で管理する必要がある。

## Decision
- **Supabase-first**: データベース、認証、ストレージを Supabase に統合し、できる限り Supabase 機能に寄せて設計する。
- **Serverless-oriented**: 常時稼働サーバを持たず、Cloudflare Pages と GitHub Actions を中心としたサーバレス構成とする。
- **Single Repository**: コードと設計資料を単一リポジトリで管理し、変更の可視化とレビューの一貫性を確保する。
- **GPT/MCP 前提設計**: GPT をエージェントとして活用し、MCP を通じて安全なデータアクセスを可能にすることを前提に設計する。

## Consequences
- Supabase の提供機能を前提にスキーマ設計や認証フローを組み立てるため、機能追加時は Supabase の制約を確認しつつ拡張する。
- サーバレス構成により、インフラ管理コストを抑えつつ、GitHub Actions や Cloudflare Pages の制限を考慮した実装が必要となる。
- 単一リポジトリ運用により、ドキュメントとコードの乖離を防ぎ、レビューや監査が容易になる。
- GPT/MCP 前提により、対話型の運用や簡易オペレーションが可能になる一方で、権限管理やツール設計に十分な注意が必要となる。
